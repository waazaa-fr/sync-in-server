<!--
  ~ Copyright (C) 2012-2025 Johan Legrand <johan.legrand@sync-in.com>
  ~ This file is part of Sync-in | The open source file sync and share solution
  ~ See the LICENSE file for licensing details
  -->

<div class="modal-header align-items-center">
  <h4 class="modal-title">
    <fa-icon [icon]="icons.faAnchor" class="me-2"></fa-icon>
    <span l10nTranslate>Anchor files to a space</span>
  </h4>
  @if (loading) {
    <fa-icon [icon]="icons.faSpinner" animation="spin" class="ms-2" size="sm"></fa-icon>
  }
  <button (click)="layout.closeDialog()" aria-label="Close" class="btn-close btn-close-white ms-auto" type="button"></button>
</div>
<div class="modal-body">
  <div class="mb-3">
    <label for="space" l10nTranslate>Space</label>
    <app-select id="space"
                [searchFunction]="onSearchSpaces.bind(this)"
                (data)="onSetSpace($event)"
                [active]="selectedSpace"
                [itemIcon]="icons.SPACES"
                [placeholder]="'Type to search for space to select' | translate:locale.language">
    </app-select>
  </div>
  <div class="mb-3">
    <label for="files" l10nTranslate>Files</label>
    <app-space-manage-roots id="files" [space]="space" [user]="user" [showUsers]="false"></app-space-manage-roots>
  </div>
</div>
<div class="modal-footer">
  <button (click)="layout.closeDialog()" class="btn btn-sm btn-secondary ms-auto" data-dismiss="modal" type="button" l10nTranslate>Cancel</button>
  <button (click)="onSubmit()" [disabled]="submitted || !selectedSpace || !space.roots.length" class="btn btn-sm btn-primary" type="button" l10nTranslate>
    Confirm
  </button>
</div>